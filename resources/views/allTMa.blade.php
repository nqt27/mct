@include('layout-header')
<h2 class="haunted-blog-header">Tất cả truyện ma</h2>
<div class="container" style="margin-bottom: 30px;">
    <section class="snake-content">
        <div class="content-left-item">

            <div class="slider-container">
                <div class="slider-wrapper">
                    <div class="slider">

                        <div class="slide-group active">
                            <div class="card" data-tilt>
                                <a href="{{ route('detailTMa.index') }}">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 1" alt="Audio 1">
                                    <h3>Audio 1</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 2" alt="Audio 2">
                                    <h3>Audio 2</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 3" alt="Audio 3">
                                    <h3>Audio 3</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 4" alt="Audio 4">
                                    <h3>Audio 4</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 1" alt="Audio 1">
                                    <h3>Audio 1</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 2" alt="Audio 2">
                                    <h3>Audio 2</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 3" alt="Audio 3">
                                    <h3>Audio 3</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 4" alt="Audio 4">
                                    <h3>Audio 4</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 1" alt="Audio 1">
                                    <h3>Audio 1</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 2" alt="Audio 2">
                                    <h3>Audio 2</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 3" alt="Audio 3">
                                    <h3>Audio 3</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 4" alt="Audio 4">
                                    <h3>Audio 4</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 1" alt="Audio 1">
                                    <h3>Audio 1</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 2" alt="Audio 2">
                                    <h3>Audio 2</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 3" alt="Audio 3">
                                    <h3>Audio 3</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 4" alt="Audio 4">
                                    <h3>Audio 4</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 1" alt="Audio 1">
                                    <h3>Audio 1</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 2" alt="Audio 2">
                                    <h3>Audio 2</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 3" alt="Audio 3">
                                    <h3>Audio 3</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                            <div class="card" data-tilt>
                                <a href="#">
                                    <img src="https://datdongradio.com/upload/images/TRUYEN-NGAN/2025/T4/lac-vao-ban-quy-nghe-truyen-ma-audio-nguyen-huy.jpg"
                                        title="Audio 4" alt="Audio 4">
                                    <h3>Audio 4</h3>
                                    <p><i class="fa-solid fa-eye"></i>Lượt xem: 30</p>
                                    <p><i class="fa-solid fa-calendar-days"></i>Phát hành: 1-1-2025</p>
                                </a>
                            </div>
                        </div>



                    </div>
                </div>



            </div>
            <div id="pagination" class="pagination"></div>

        </div>



    </section>
</div>
@include('layout-footer')
<script>
    const itemsPerPage = 16;
    const cards = Array.from(document.querySelectorAll(".card")); // Đổi từ .library-card thành .card
    const pagination = document.getElementById("pagination");
    const libraryGrid = document.getElementById("libraryGrid");

    let currentPage = 1;

    function renderPage(page) {
        // Ẩn tất cả card
        cards.forEach(card => {
            card.style.display = "none";
        });

        const start = (page - 1) * itemsPerPage;
        const end = page * itemsPerPage;

        // Hiện card của trang hiện tại
        cards.slice(start, end).forEach(card => {
            card.style.display = "block";
            card.style.opacity = 0;
            card.style.transition = "opacity 0.5s ease, transform 0.3s ease";
            card.style.transform = "scale(0.95)";
            requestAnimationFrame(() => {
                card.style.opacity = 1;
                card.style.transform = "scale(1)";
            });
        });

        renderPagination();

        // Cuộn lên đầu grid mỗi khi đổi trang
        //  Cuộn lên đầu trang thay vì chỉ scroll đến libraryGrid
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    }

    function renderPagination() {
        const totalPages = Math.ceil(cards.length / itemsPerPage);
        pagination.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
            const btn = document.createElement("button");
            btn.innerText = i;
            if (i === currentPage) btn.classList.add("active");
            btn.addEventListener("click", () => {
                currentPage = i;
                renderPage(currentPage);
            });
            pagination.appendChild(btn);
        }
    }

    // Gọi khi load lần đầu
    renderPage(currentPage);
</script>
